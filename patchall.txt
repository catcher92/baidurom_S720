catcher@catcher ~/baidu/baidu_mtk_4.0/devices/S720 $ make patchall
# ------------------------------------------------------------------
/home/catcher/baidu/baidu_mtk_4.0/build/locals.mk:56: DENSITY:hdpi
# no source directory, need /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/system/.preparesource
# use build/boot_recovery.mk
# use /home/catcher/baidu/baidu_mtk_4.0/devices/S720/recovery.fstab
# VENDOR_SIGN_APPS:framework/lenovo-res.apk framework/Stats_12.apk framework/theme-res-mint.apk framework/mediatek-res.apk app/FMRadio.apk app/MtkBt.apk
# VERSION_NUMBER: 
# BAIDU_MODIFY_APPS:app/Phone.apk
# BAIDU_UPDATE_RES_APPS:
# vendor_modify_apps:FMRadio
awk: 致命错误: 无法以读模式打开文件“/home/catcher/baidu/baidu_mtk_4.0/devices/S720/FMRadio/apktool.yml”(没有那个文件或目录)
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：覆盖关于目标“out/obj/system/res/FMRadio.remove”的命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：忽略关于目标“out/obj/system/res/FMRadio.remove”的旧命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：覆盖关于目标“out/obj/system/app/FMRadio.signed.apk”的命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：忽略关于目标“out/obj/system/app/FMRadio.signed.apk”的旧命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：覆盖关于目标“out/merged_target_files/SYSTEM/app/FMRadio.apk”的命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：忽略关于目标“out/merged_target_files/SYSTEM/app/FMRadio.apk”的旧命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：覆盖关于目标“clean-FMRadio”的命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：忽略关于目标“clean-FMRadio”的旧命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：覆盖关于目标“FMRadio.phone”的命令
/home/catcher/baidu/baidu_mtk_4.0/build/main.mk:342: 警告：忽略关于目标“FMRadio.phone”的旧命令
# BOOT_CLASS_ODEX_ORDER:core.jar:core-junit.jar:bouncycastle.jar:ext.jar:framework.jar:android.policy.jar:services.jar:apache-xml.jar:filterfw.jar:mediatek-framework.jar:secondary_framework.jar
# LD_LIBRARY_PATH: /home/catcher/baidu/baidu_mtk_4.0/tools/lib/dvm_27:/home/catcher/baidu/baidu_mtk_4.0/tools/lib:/home/catcher/baidu/baidu_mtk_4.0/tools/lib/:
# ------------------------------------------------------------------
/home/catcher/baidu/baidu_mtk_4.0/build/locals.mk:56: DENSITY:hdpi
>>> zip from /home/catcher/baidu/baidu_mtk_4.0/reference/baidu_base to /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/baidu.zip
>>> Deodex /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/baidu.zip
temp dir: /tmp/tempdir.d4iNa
unzip /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/baidu.zip to /tmp/tempdir.d4iNa
/home/catcher/baidu/baidu_mtk_4.0/devices/S720
>>> /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/baidu.zip isnot odex! 
>>> Deodex done!
>>> Prepare baidu sources
I: Framework installed to: /home/catcher/apktool/framework/1-baidu_S720.apk
I: Framework installed to: /home/catcher/apktool/framework/4-baidu_S720.apk
I: Framework installed to: /home/catcher/apktool/framework/2-baidu_S720.apk
>>> apktool if baidu framework res done
>>> prepare /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/system/app/Phone.apk done
I: Baksmaling...
I: Loading resource table...
W: Skipping "android" package group
I: Loaded.
I: Decoding AndroidManifest.xml with resources...
I: Loading resource table from file: /home/catcher/apktool/framework/1-baidu_S720.apk
I: Loaded.
I: Regular manifest package...
I: Decoding file-resources...
I: Decoding values */* XMLs...
I: Loading resource table from file: /home/catcher/apktool/framework/4-baidu_S720.apk
I: Loaded.
I: Done.
I: Copying assets and libs...
>>> prepare /home/catcher/baidu/baidu_mtk_4.0/devices/S720/baidu/system/framework/android.policy.jar done
I: Baksmaling...
I: Copying assets and libs...
I: Framework installed to: /home/catcher/apktool/framework/1-vendor_S720.apk
I: Framework installed to: /home/catcher/apktool/framework/3-vendor_S720.apk
I: Framework installed to: /home/catcher/apktool/framework/2-vendor_S720.apk
I: Framework installed to: /home/catcher/apktool/framework/127-vendor_S720.apk
I: Framework installed to: /home/catcher/apktool/framework/9-vendor_S720.apk
>>> apktool if vendor framework res done
I: Baksmaling...
I: Loading resource table...
W: Skipping "android" package group
I: Loaded.
I: Decoding AndroidManifest.xml with resources...
I: Loading resource table from file: /home/catcher/apktool/framework/1-vendor_S720.apk
I: Loaded.
I: Regular manifest package...
I: Decoding file-resources...
I: Decoding values */* XMLs...
I: Done.
I: Copying assets and libs...
I: Baksmaling...
I: Copying assets and libs...
I: Baksmaling...
I: Copying assets and libs...
>>> checking precondition for auto patch ...
 prepare changelist from /home/catcher/baidu/baidu_mtk_4.0/tools/autopatch/changelist ...
 prepare ( aosp bosp ) from /home/catcher/baidu/baidu_mtk_4.0/reference ...
<<< checking precondition Done.
>>> checking precondition for autocomplete missed methods ...
<<< checking precondition for autocomplete missed methods Done.

>>> auto patch all ...

 [Modifications in boot.img]
 MERGE    vendor/BOOT/RAMDISK/default.prop
 MERGE    vendor/BOOT/RAMDISK/init.rc

 [Patch bringup features]
 MERGE    framework-res/AndroidManifest.xml
 MERGE    framework.jar.out/smali/android/content/res/AssetManager.smali
 MERGE    services.jar.out/smali/com/android/server/pm/PackageManagerService.smali
Can not find nearby .method private scanPackageLI(Landroid/content/pm/PackageParser$Package;IIJLandroid/os/UserHandle;)Landroid/content/pm/PackageParser$Package;
 MERGE    services.jar.out/smali/com/android/server/ServerThread.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/CallerInfo.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery$1.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery$CallerInfoAsyncQueryHandler$CallerInfoWorkerHandler.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery$CookieWrapper.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery$QueryPoolException.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery$OnQueryCompleteListener.smali
 REPLACE  framework.jar.out/smali/com/android/internal/telephony/CallerInfoAsyncQuery$CallerInfoAsyncQueryHandler.smali
 REPLACE  framework.jar.out/smali/android/widget/QuickContactBadge.smali
 REPLACE  framework.jar.out/smali/android/widget/QuickContactBadge$QueryHandler.smali
 MERGE    framework.jar.out/smali/android/os/Environment.smali
 MERGE    services.jar.out/smali/com/android/server/MountService.smali
 ADD      services.jar.out/smali/com/android/server/MountService$SdType.smali
 ADD      framework.jar.out/smali/android/util/FeatureData.smali
 ADD      framework.jar.out/smali/com/android/internal/widget/RecycleFilletListView.smali
 MERGE    framework.jar.out/smali/com/android/internal/app/AlertController.smali
 MERGE    secondary_framework.jar.out/smali/android/app/Notification.smali
 MERGE    framework.jar.out/smali/android/telephony/TelephonyManager.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/IPhoneSubInfo.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/IPhoneSubInfo$Stub$Proxy.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/IccCard.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/PhoneSubInfo.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/CallManager.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ActivityManager.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ActivityManagerNative.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ActivityManagerProxy.smali
 MERGE    secondary_framework.jar.out/smali/android/app/IActivityManager.smali
 MERGE    services.jar.out/smali/com/android/server/am/ActivityManagerService.smali
 ADD      services.jar.out/smali/com/android/server/am/QuickbootActivityManagerServiceHook$2.smali
 ADD      services.jar.out/smali/com/android/server/am/QuickbootActivityManagerServiceHook.smali
 ADD      services.jar.out/smali/com/android/server/am/QuickbootActivityManagerServiceHook$1.smali
 ADD      services.jar.out/smali/com/android/server/am/QuickbootActivityManagerServiceHook$SetBackgroundTask.smali

 [Patch all the other features]
 MERGE    framework.jar.out/smali/com/android/internal/telephony/SMSDispatcher.smali
 ADD      framework.jar.out/smali/com/android/internal/telephony/SMSDispatcher$TrafficMonitorMessageReceiverClass.smali
 MERGE    framework.jar.out/smali/android/net/NetworkPolicyManager.smali
 MERGE    services.jar.out/smali/com/android/server/net/NetworkPolicyManagerService.smali
 MERGE    services.jar.out/smali/com/android/server/am/BroadcastRecord.smali
 MERGE    framework.jar.out/smali/android/provider/Settings$System.smali
 MERGE    framework.jar.out/smali/android/media/MediaScanner$MyMediaScannerClient.smali
 ADD      framework.jar.out/smali/com/android/internal/widget/DragView.smali
 MERGE    framework.jar.out/smali/com/android/internal/widget/LockPatternUtils.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/DigitalClock.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ContextImpl$ApplicationContentResolver.smali
 MERGE    secondary_framework.jar.out/smali/android/app/Instrumentation.smali
 MERGE    framework.jar.out/smali/android/location/LocationManager.smali
 MERGE    framework.jar.out/smali/android/net/ConnectivityManager.smali
 MERGE    framework.jar.out/smali/com/android/internal/telephony/IccSmsInterfaceManager.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$1.smali
 ADD      services.jar.out/smali/com/android/server/BackupManagerService$BaiduConnection.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$FullParams.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$Operation.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$BackupHandler.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$FileMetadata.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformFullRestoreTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformBackupTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformRestoreTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$ActiveRestoreSession.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$RestorePolicy.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformClearTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformInitializeTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$RunBackupReceiver.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$BackupState.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformFullBackupTask$FullBackupRunner.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$BackupRequest.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformFullRestoreTask$RestoreDeleteObserver.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$BackupRestoreTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformFullRestoreTask$RestoreFileRunnable.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformFullBackupTask.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$4.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformRestoreTask$RestoreRequest.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$RestoreGetSetsParams.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$ClearDataObserver.smali
 ADD      services.jar.out/smali/com/android/server/BackupManagerService$ObserveBaiduTransport.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$ClearParams.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$RestoreState.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$PerformFullRestoreTask$RestoreInstallObserver.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$2.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$RestoreParams.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$RunInitializeReceiver.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$ActiveRestoreSession$EndRestoreRunnable.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$FullBackupParams.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$3.smali
 REPLACE  services.jar.out/smali/com/android/server/BackupManagerService$FullRestoreParams.smali
 REPLACE  framework.jar.out/smali/android/widget/TextView.smali
 REPLACE  framework.jar.out/smali/android/widget/TextView$ChangeWatcher.smali
 REPLACE  framework.jar.out/smali/android/text/Layout.smali
 ADD      framework.jar.out/smali/com/android/internal/util/SearchHelper.smali
 ADD      framework.jar.out/smali/com/android/internal/util/WordSegment.smali
 ADD      framework.jar.out/smali/com/android/internal/widget/PopupLayout.smali
 ADD      framework.jar.out/smali/com/android/internal/widget/MagnifierView.smali
 ADD      framework.jar.out/smali/android/widget/MagnifierView2.smali
 MERGE    framework.jar.out/smali/android/content/Intent.smali
 MERGE    services.jar.out/smali/com/android/server/am/ActivityStack.smali
 ADD      services.jar.out/smali/com/android/server/am/ActivityStack$baidu_1.smali
 MERGE    secondary_framework.jar.out/smali/android/app/Activity.smali
 ADD      framework.jar.out/smali/android/app/Activity$TouchPadListener.smali
 ADD      framework.jar.out/smali/android/content/ThemeDefine.smali
 REPLACE  framework.jar.out/smali/com/android/internal/app/ActionBarImpl.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$3.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$2.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$1.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$ExpandedActionViewMenuPresenter.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$HomeView.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$SavedState$1.smali
 REPLACE  framework.jar.out/smali/com/android/internal/widget/ActionBarView$SavedState.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel$1.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel$4.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel$3.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel$2.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel$StreamControl.smali
 REPLACE  secondary_framework.jar.out/smali/android/view/VolumePanel$StreamResources.smali
 MERGE    framework.jar.out/smali/android/content/res/Resources.smali
 MERGE    framework.jar.out/smali/android/content/pm/ActivityInfo.smali
 MERGE    framework.jar.out/smali/android/content/res/AssetManager.smali
 MERGE    framework.jar.out/smali/android/content/res/AssetManager$AssetInputStream.smali
 ADD      framework.jar.out/smali/android/content/res/AssetManager$baidu_1.smali
 ADD      framework.jar.out/smali/android/content/res/AssetManager$baidu_2.smali
 MERGE    framework.jar.out/smali/android/content/res/Configuration.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ActivityThread.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ActivityThread$2.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ApplicationPackageManager.smali
 MERGE    secondary_framework.jar.out/smali/android/app/ContextImpl.smali
 MERGE    secondary_framework.jar.out/smali/android/view/WindowManager$LayoutParams.smali
 MERGE    framework.jar.out/smali/android/content/pm/PackageItemInfo.smali
 MERGE    framework.jar.out/smali/android/content/pm/ResolveInfo.smali
 MERGE    secondary_framework.jar.out/smali/android/view/WindowManagerPolicy$WindowManagerFuncs.smali
 MERGE    services.jar.out/smali/com/android/server/am/BatteryStatsService.smali
 MERGE    services.jar.out/smali/com/android/server/DevicePolicyManagerService.smali
 MERGE    framework.jar.out/smali/android/os/RecoverySystem.smali
 MERGE    framework.jar.out/smali/android/content/pm/PackageParser.smali
 MERGE    secondary_framework.jar.out/smali/android/view/WindowManagerImpl.smali


  +--------------- Auto Patch Results 
  |                                                                                             
  |  >> Failed to auto patch the following files, please check out:                             
  |                                                                                             
  |     File not exist: ./autopatch/bosp/framework.jar.out/smali/android/content/res/Resources$baidu_1.smali
  |                                                                                             
  |  >> -_-!!!  Conflicts happen in the following files:                                        
  |                                                                                             
  |     framework.jar.out/smali/com/android/internal/telephony/SMSDispatcher.smali
  |     framework.jar.out/smali/android/content/res/Resources.smali
  |     framework.jar.out/smali/android/content/pm/PackageParser.smali
  |     services.jar.out/smali/com/android/server/MountService.smali
  |     framework-res/AndroidManifest.xml
  |     framework.jar.out/smali/com/android/internal/telephony/IccCard.smali
  |     services.jar.out/smali/com/android/server/am/ActivityManagerService.smali
  |     framework.jar.out/smali/android/content/res/AssetManager.smali
  |     framework.jar.out/smali/android/provider/Settings$System.smali
  |     framework.jar.out/smali/com/android/internal/app/AlertController.smali
  |     framework.jar.out/smali/android/content/res/Configuration.smali
  |     framework.jar.out/smali/com/android/internal/telephony/CallManager.smali
  |                                                                                             
  |                                                                                             
  |     Advice:                                                                                 
  |      1. Conflicts are marked out in the reject file with suffix .reject in out/reject/      
  |         you'd better resolve conflicts before going on with the following work.             
  |                                                                                             
  |      2. You might follow three steps to resolve conflicts:                                  
  |         - compare VENDOR and REJECT to find out where conflicts happened;                   
  |         - compare AOSP   and BOSP   to find out where Baidu changes;                        
  |         - compare VENDOR and BOSP   to decide how to resolve conflicts.                     
  |                                                                                             
  +---------------


